<style>
.hero {
  background: rgb(var(--color-background));
}

.hero__container {
  width:100%;
  margin: 0 auto;
  padding-left:60px;
}


.hero__slide {
  display: none;
  align-items: center;
  padding: 6rem var(--page-margin);
  min-height: 520px;

  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  position: relative;
}
.hero__slide::before {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.35);
}

.hero__slide.is-active {
  display: flex;
}

.hero__content {
  width: 50%;
  position: relative;
  z-index: 2;
}

.hero__text {
  margin: 1.2rem 0 2rem;
  max-width: 42rem;
  color: rgb(var(--color-foreground));
}

.hero__media {
  width: 50%;
  text-align: right;
}
.hero__text,
.hero__content h1 {
  color: #fff;
}

.hero__media img {
  max-width: 100%;
  height: auto;
}

/* Navigation */
.hero__nav {
  display: flex;
  justify-content: center;
  gap: 1rem;
  padding-bottom: 2rem;
}

.hero__nav-btn {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 1px solid rgb(var(--color-foreground));
  background: transparent;
  color: rgb(var(--color-foreground));
  cursor: pointer;
}


</style>    


<section class="hero" data-hero-slider>
  <div class="hero__container">

    {% for block in section.blocks %}
      <div class="hero__slide {% if forloop.first %}is-active{% endif %}"
     data-slide
     style="
       {% if block.settings.image %}
         background-image: url('{{ block.settings.image | image_url: width: 2000 }}');
       {% endif %}
     "
     {{ block.shopify_attributes }}>


        <div class="hero__content">
          <h1>{{ block.settings.heading }}</h1>

          <p class="hero__text">
            {{ block.settings.text }}
          </p>

          {% if block.settings.button_label != blank %}
            <a href="{{ block.settings.button_link }}"
               class="button button--primary">
              {{ block.settings.button_label }}
            </a>
          {% endif %}
        </div>

        <div class="hero__media">
          {% if block.settings.image %}
            {{ block.settings.image
              | image_url: width: 1100
              | image_tag: loading: 'lazy' }}
          {% endif %}
        </div>

      </div>
    {% endfor %}

    <!-- Navigation buttons -->
    <div class="hero__nav">
      <button class="hero__nav-btn" data-prev>
        ←
      </button>

      <button class="hero__nav-btn" data-next>
        →
      </button>
    </div>

  </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('[data-hero-slider]').forEach(slider => {
    const slides = slider.querySelectorAll('[data-slide]');
    const nextBtn = slider.querySelector('[data-next]');
    const prevBtn = slider.querySelector('[data-prev]');

    let index = 0;

    const showSlide = (i) => {
      slides.forEach(slide => slide.classList.remove('is-active'));
      slides[i].classList.add('is-active');
    };

    nextBtn.addEventListener('click', () => {
      index = (index + 1) % slides.length;
      showSlide(index);
    });

    prevBtn.addEventListener('click', () => {
      index = (index - 1 + slides.length) % slides.length;
      showSlide(index);
    });
  });
});

</script>

{% schema %}
{
  "name": "Hero Slider",
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Shop the New Collection"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label",
          "default": "Shop now"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Slider"
    }
  ]
}
{% endschema %}

